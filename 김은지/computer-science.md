# 네트워크

> 네트워크란?
> 두 대 이상의 장치가 서로 연결돼서 정보를 주고 받을 수 있는 통신망

## 네트워크에서 패킷이란 무엇을 의미하나요?

<details>
<summary>일단 답해보기</summary>
<div markdown="1">

```diff
- 네트워크에서 패킷이란, 전달되는 메시지 단위라고 볼 수 있을 것 같다.
+ 네트워크에서 패킷이란, 전달되는 데이터 단위라고 볼 수 있을 것 같다.
- 네트워크 각 계층에 따라 메시지를 표현하는 방식이 다른데, 응용 계층과 전송 계층 사이의 IP 계층 메시지 단위가 패킷이라고 알고 있다.
+ 네트워크 각 계층에 따라 데이터를 표현하는 방식이 다른데, IP 계층 데이터 단위를 패킷이라고 한다.
```

</div>
</details>

### 패킷이란?

- package + bucket
- 데이터의 전송 단위

### 패킷의 구조

- 헤더
  - 패이로드를 실행하기 위한 메타 데이터
- 패이로드
  - 패킷에 의해 전송되는 실제 데이터
- 트레일러
  - 오류 검사 정보 - 패킷이 온전히 전송되었는지 검사하는 체크섬 등

## 네트워크에서 처리량은 무엇을 의미하나요?

<details>
<summary>일단 답해보기</summary>
<div markdown="1">

```diff
처리량은 무엇을 의미하는 지 설명하기는 어려우나, 개발자도구 throttling 메뉴에서 처리량을 줄이기 위해 network 속도를 제어해본 적이 있다.
```

</div>
</details>

### 처리량(throughput)이란?

- 네트워크를 통해 일정 시간 동안 전달되는 데이터의 양

### 처리량 특성

- 네트워크 성능을 측정하는 지표
- 네트워크 속도를 결정
- 단위 - bps(bits per second)
- 초당 전송 또는 수신되는 비트 수
  > 원래는 네트워크 처리량을 초당 비트 수(bps)로 측정했습니다. 그러나 데이터 전송 기술이 발전함에 따라 이제 훨씬 더 높은 가치를 달성할 수 있습니다. 따라서 초당 킬로바이트(KBps), 초당 메가바이트(MBps), 심지어 초당 기가바이트(GBps) 단위로 처리량을 측정할 수 있습니다. 1바이트는 8비트와 같습니다. \_AWS
- 영향을 미치는 요인
  - 대역폭
  - 네트워크 처리 능력
  - 패킷 손실
  - 네트워크 토폴로지

## 지연시간이란 무엇인가요?

<details>
<summary>일단 답해보기</summary>
<div markdown="1">

```diff
네트워크 통신 시 걸리는 시간
```

</div>
</details>

### 지연시간이란?

- 네트워크를 통해 데이터를 전송하는 데 걸리는 시간
- 하나의 패킷이 목적지에 도달하는데 걸리는 시간

### 지연시간 특성

- 네트워크 성능을 측정하는 지표
- 네트워크 속도를 결정
- 단위 - ms
- 영향을 미치는 요인
  - 지리적 거리
  - 네트워크 정체
  - 전송 프로토콜
  - 네트워크 인프라

### 처리량은 어떤 상황에 영향을 받나요?

- 지연 시간
  - 지연 시간이 길면 데이터 전송 및 도착 시간이 더 오래 걸리기 때문에 처리량이 적어질 수 있다.
- 대역폭 (Bandwidth)
  : 특정 기간 동안 송수신할 수 있는 데이터의 양
  ![지연시간 vs 처리량 vs 대역폭](image.png)
  - 대역폭이 클수록 더 많은 데이터를 동시에 전송할 수 있어 처리량이 많아진다.
  - 네트워크 용량이 전송 매체의 최대 대역폭에 도달하면 처리량이 해당 제한을 초과할 수 없다.
- 네트워크 처리 능력
  - 네트워크 디바이스에는 처리 성능을 향상시키는 특수 하드웨어 또는 소프트웨어 최적화가 있음 (ex. 전용 애플리케이션별 집접 회로 또는 소프트웨어 기반 패킷 처리 엔진)
  - 이러한 최적화를 통해 디바이스는 더 많은 양의 트래픽과 더 복잡한 패킷 처리 태스크를 처리할 수 있으므로 처리량이 향상됨
- 패킷 손실
  - 네트워크 정체, 하드웨어 결함 또는 잘못 구성된 네트워크 디바이스 등 다양한 이유로 발생
  - 패킷이 손실되면 다시 전송해야 하므로 처리량 감소
- 네트워크 토폴로지
  - 노드와 링크가 어떻게 배치되어 있는지에 대한 방식이자 연결 형태
  - 잘 설계된 네트워크 토폴로지는 데이터 전송을 위한 다중 경로를 제공하고 트래픽 병목 현상을 줄이며 처리량을 증가시킴

[참고 자료]

- https://aws.amazon.com/ko/compare/the-difference-between-throughput-and-latency/
- https://www.dnsstuff.com/latency-throughput-bandwidth

### 네트워크 병목현상은 무엇인가요?

- 병목 현상: 전체 시스템의 성능이나 용량이 하나의 구성 요소로 인해 제한을 받는 현상
- 서비스에서 이벤트를 열었을 때 트래픽이 많이 생기고 그 트래픽을 잘 관리하지 못하면 병목 현상이 생겨 사용자는 웹 사이트로 들어가지 못할 수 있음

### TCP/IP 가 무엇인가요? 각 계층에 대해서 설명할 수 있나요?

- TCP/IP: 인터넷과 이와 유사한 컴퓨터 네트워크 사이에서 정보를 주고받는 데 이용되는 통신 프로토콜의 모음
- 일반적으로 4개의 계층으로 구성

  1. 응용 계층

  - 응용 프로그램이 사용되는 프로토콜 계층
  - 웹 서비스, 이메일 등 서비스를 실질적으로 사람들에게 제공하는 층
  - 데이터 단위 - 메시지

  2. 전송 계층

  - 송신자와 수신자를 연결하는 통신 서비스를 제공
  - 애플리케이션과 인터넷 계층 사이의 데이터가 전달될 때 중계 역할
  - 데이터 단위 - 세그먼트

  3. 인터넷 계층

  - 네트워크 간의 데이터 패킷 전달을 담당
  - 데이터 단위 - 패킷

  4. 네트워크 인터페이스 계층

  - 물리적인 네트워크 연결을 담당
  - 데이터 단위 - 프래임

[참고 자료]

- https://nordvpn.com/ko/blog/tcp-ip-protocol/?srsltid=AfmBOoo1GrvmF3IAYiaFPDpm_1TwTroSqkjzHK94V6Q6umb6FicP43nd
- https://m.blog.naver.com/hai0416/221592953663

### 전송 계층의 대표적인 방식은 무엇이 있고 어떤 차이가 있나요? (키워드: TCP, UDP)

| 구분           | TCP            | UDP                |
| -------------- | -------------- | ------------------ |
| 연결 방식      | 연결형 서비스  | 비연결형 서비스    |
| 패킷 교환 방식 | 가상 회선 방식 | 데이터그램 방식    |
| 전송 순서      | 순서 보장      | 순서 바뀔 수 있음  |
| 수신 여부      | 확인           | 확인하지 않음      |
| 통신 방식      | 1:1 통신       | 1:1, 1:N, N:N 통신 |
| 신뢰성         | 높음           | 낮음               |
| 속도           | 느림           | 빠름               |

### 계층 간 데이터 송수신 과정에 대해 설명할 수 있나요? (키워드: 캡슐화, 비캡슐화)

- 캡슐화: 데이터가 하위 계층으로 내려가면서 각 계층에서 필요한 헤더 정보를 추가하여 최종적으로 물리적 매체를 통해 전송되는 과정
  1. 응용 계층
  - 사용자가 입력한 데이터가 응용 계층에서 생성됩니다. 예를 들어, 웹 브라우저에서 URL을 입력하면 HTTP 요청 메시지가 생성됩니다.
  2. 표현 계층
  - 데이터는 전송하기 적합한 형태로 변환됩니다. 암호화나 압축이 필요한 경우 이 계층에서 수행됩니다.
  3. 세션 계층
  - 세션 계층은 통신 세션을 관리합니다. 데이터가 오가는 연결을 설정하고 유지하며, 세션이 끝나면 종료합니다.
  4. 전송 계층
  - 데이터는 작은 데이터 패킷으로 나뉘고, 각 패킷에 전송 계층 헤더(TCP 또는 UDP 헤더)가 추가됩니다. 이 헤더에는 패킷 번호, 포트 번호, 오류 검출 정보 등이 포함됩니다.
  5. 네트워크 계층
  - 전송 계층에서 받은 데이터 패킷에 네트워크 계층 헤더(IP 헤더)가 추가됩니다. 이 헤더에는 발신지와 목적지의 IP 주소가 포함됩니다.
  6. 데이터 링크 계층
  - 네트워크 계층에서 받은 데이터에 MAC 주소와 같은 데이터 링크 계층 헤더가 추가됩니다. 프레임이라는 단위로 변환되며, 에러 검출 및 흐름 제어를 위한 정보도 포함됩니다.
  7. 물리 계층
  - 데이터 링크 계층에서 받은 프레임은 전기 신호나 무선 신호로 변환되어 물리적 매체(케이블, 무선 등)를 통해 전송됩니다.
- 역캡슐화: 캡슐화의 역순으로, 각 계층에서 헤더를 제거하고 상위 계층으로 전달되는 방식

  1. 물리 계층

  - 수신 측에서 신호를 받아들입니다. 신호는 데이터 링크 계층이 이해할 수 있는 비트 스트림으로 변환됩니다.

  2.  데이터 링크 계층

  - 물리 계층에서 받은 비트 스트림을 프레임으로 조립하고, 데이터 링크 계층 헤더를 제거한 후 네트워크 계층으로 전달합니다.

  3.  네트워크 계층

  - 데이터 링크 계층에서 받은 프레임에서 네트워크 계층 헤더(IP 헤더)를 제거하고, 나머지 데이터를 전송 계층으로 전달합니다.

  4.  전송 계층

  - 네트워크 계층에서 받은 데이터를 전송 계층 헤더(TCP/UDP 헤더)를 제거한 후 세션 계층으로 전달합니다. 이 과정에서 패킷이 올바른 순서로 재조립됩니다.

  5.  세션 계층

  - 세션 계층은 데이터의 세션을 관리하며, 나머지 데이터를 프레젠테이션 계층으로 전달합니다.

  6.  프레젠테이션 계층

  - 데이터는 필요한 경우 암호 해독이나 압축 해제 등을 거친 후 응용 계층으로 전달됩니다.

  7.  응용 계층

  - 최종적으로 사용자가 이해할 수 있는 데이터 형태로 변환되어 사용자에게 전달됩니다.

### 네트워크에서 PDU에 대해 알고 있나요?

- PDU(Protocol Data Unit): 네트워크의 어떠한 계층에서 계층으로 데이터가 전달될 때의 데이터 단위

|    계층     |                   명칭                    |
| :---------: | :---------------------------------------: |
|  응용 계층  |                  메시지                   |
|  전송 계층  |      세그먼트(TCP), 데이터그램(UDP)       |
| 인터넷 계층 |                   패킷                    |
|  링크 계층  | 프레임(데이터 링크 계층), 비트(물리 계층) |
